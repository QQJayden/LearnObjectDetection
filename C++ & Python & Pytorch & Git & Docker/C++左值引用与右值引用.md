## 左值引用

---

[c++ 左值引用与右值引用](https://zhuanlan.zhihu.com/p/97128024)

[C++11那些难事：左值引用、右值引用与完美转发](https://www.jianshu.com/p/a58ab8caa6a7/)

[C++ 中的左值、右值、左值引用、右值引用、引用分别是什么，有哪些关系？](https://www.zhihu.com/question/28039779)

---



- 可以取地址的，有名字的，非临时的就是左值；
- 不能取地址的，没有名字的，临时的就是右值；



可见立即数，函数返回的值等都是右值；而非匿名对象(包括变量)，函数返回的引用，const对象等都是左值。

问题：左值引用要求右边的值必须能够取地址，如果无法取地址，可以用常引用；
但使用常引用后，我们只能通过引用来读取数据，无法去修改数据，因为其被const修饰成常量引用了。

```c++
const int temp = 10; 
const int &var = temp;
```

从本质上理解，创建和销毁由编译器幕后控制，程序员只能确保在本行代码有效的，就是右值(包括立即数)；而用户创建的，通过作用域规则可知其生存期的，就是左值(包括函数返回的局部变量的引用以及const对象)。

```c++
int &&var = 10;
```

右值引用可以进行读写操作，而常引用只能进行读操作	

右值引用的存在并不是为了取代左值引用，而是充分利用右值(特别是临时对象)的构造来减少对象构造和析构操作以达到提高效率的目的。



带右值引用参数的拷贝构造和赋值重载函数，又叫移动构造函数和移动赋值函数，这里的移动指的是把临时量的资源移动给了当前对象，临时对象就不持有资源，为nullptr了，实际上没有进行任何的数据移动，没发生任何的内存开辟和数据拷贝

